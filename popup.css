:root { --primary:#2563eb; --primary-hover:#1d4ed8; --network-active:#10b981; --network-active-hover:#059669; --blob-active:#f59e0b; --blob-active-hover:#d97706; --bg-color:#fff; --bg-secondary:#f3f4f6; --text-main:#1f2937; --text-muted:#6b7280; --border:#e5e7eb; --radius:8px; --shadow:0 1px 3px rgba(0,0,0,0.1); }
body { font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif; width:420px; height:600px; margin:0; background:var(--bg-color); color:var(--text-main); display:flex; flex-direction:column; overflow:hidden; }
header { min-height:50px; padding:8px 10px; background:var(--bg-color); border-bottom:1px solid var(--border); display:flex; flex-direction:column; gap:8px; flex-shrink:0; z-index:10; }
#controls, #size-filters { display:flex; align-items:center; width:100%; gap:6px; }
#size-filters { gap:8px; padding-top:2px; }
.filter-group { flex:1; display:flex; flex-direction:column; gap:4px; min-width:0; }
.filter-label-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:2px; }
.filter-label-row label { font-size:10px; color:var(--text-muted); font-weight:600; text-transform:uppercase; margin-right:4px; }
.manual-inputs { display:flex; align-items:center; gap:2px; font-size:10px; color:var(--text-muted); }
.tiny-input { width:34px; border:1px solid var(--border); border-radius:4px; padding:1px 2px; font-size:10px; text-align:right; background:var(--bg-secondary); color:var(--text-main); outline:none; -moz-appearance:textfield; }
.tiny-input::-webkit-outer-spin-button, .tiny-input::-webkit-inner-spin-button { -webkit-appearance:none; margin:0; }
.tiny-input:focus { border-color:var(--primary); background:#fff; }
.dim-check { margin:0; width:12px; height:12px; cursor:pointer; }
.range-wrapper { position:relative; height:16px; display:flex; align-items:center; width:100%; }
.range-track-bg { position:absolute; width:100%; height:4px; background:var(--bg-secondary); border-radius:2px; z-index:1; }
.range-track-active { position:absolute; height:4px; background:var(--primary); border-radius:2px; z-index:2; pointer-events:none; }
.range-wrapper input[type=range] { -webkit-appearance:none; position:absolute; width:100%; height:100%; background:none; pointer-events:none; margin:0; outline:none; z-index:3; }
.range-wrapper input[type=range]::-webkit-slider-thumb { pointer-events:auto; -webkit-appearance:none; width:14px; height:14px; border-radius:50%; background:var(--primary); cursor:pointer; box-shadow:0 1px 3px rgba(0,0,0,0.3); border:2px solid #fff; }
.range-wrapper input[type=range]::-moz-range-thumb { pointer-events:auto; width:14px; height:14px; border:2px solid #fff; border-radius:50%; background:var(--primary); cursor:pointer; box-shadow:0 1px 3px rgba(0,0,0,0.3); }
.input-group { display:flex; align-items:center; flex:1; background:var(--bg-secondary); padding:4px 12px; border-radius:var(--radius); min-width:0; }
.input-group:focus-within { box-shadow:0 0 0 2px rgba(37,99,235,0.2); }
.input-group input { border:none; background:transparent; flex:1; padding:6px 0; font-size:13px; outline:none; color:var(--text-main); min-width:0; }
#renameToggle, #sortBtn, #settingsBtn { height:30px; border-radius:6px; padding:0 10px; display:inline-flex; align-items:center; justify-content:center; font-size:11px; font-weight:500; }
#renameToggle { white-space:nowrap; min-width:60px; }
#renameToggle.original-mode { background:#fff; border-color:var(--border); color:var(--text-main); }
#sortBtn { min-width:40px; }
#settingsBtn { min-width:30px; padding:0 6px; }
.icon-btn svg { display:block; }
#settings-panel { position:fixed; top:0; left:0; right:0; bottom:0; background:var(--bg-color); z-index:100; display:flex; flex-direction:column; transform:translateX(100%); transition:transform 0.3s ease; }
#settings-panel:not(.hidden) { transform:translateX(0); }
.settings-header { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid var(--border); }
.settings-header h3 { margin:0; font-size:16px; font-weight:600; }
.btn-close { background:transparent; border:none; font-size:24px; color:var(--text-muted); cursor:pointer; width:32px; height:32px; display:flex; align-items:center; justify-content:center; }
.settings-content { flex:1; overflow-y:auto; padding:20px 16px; }
.mode-section { margin-bottom:32px; padding-bottom:24px; border-bottom:1px solid var(--border); }
.section-title { margin:0 0 16px 0; font-size:14px; font-weight:600; color:var(--text-main); }
.mode-options { display:flex; flex-direction:column; gap:12px; }
.mode-option { display:flex; align-items:center; gap:8px; }
.mode-check { margin:0; width:12px; height:12px; cursor:pointer; }
.mode-option label { font-size:13px; color:var(--text-main); cursor:pointer; user-select:none; }
.support-section { display:flex; flex-direction:column; align-items:center; text-align:center; gap:16px; }
.support-text, .donation-link, .license-text { font-size:13px; line-height:1.6; margin:0; }
.donation-link a { color:var(--primary); text-decoration:none; font-weight:500; }
.contact-links { display:flex; flex-direction:column; gap:10px; width:100%; }
.contact-link { display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:6px; background:var(--bg-secondary); color:var(--text-main); text-decoration:none; font-size:12px; transition:background 0.2s; }
.contact-link:hover { background:#e5e7eb; }
.contact-link svg { flex-shrink:0; }
.contact-link span { flex:1; text-align:left; }
.license-text { margin-top:8px; font-size:11px; color:var(--text-muted); }
#grid-container { flex:1; overflow-y:auto; background:var(--bg-secondary); padding:8px; }
#grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; padding-bottom:8px; }
.item { position:relative; aspect-ratio:1; background:#f3f4f6; border-radius:var(--radius); overflow:hidden; cursor:pointer; box-shadow:var(--shadow); border:2px solid transparent; contain:layout paint style; content-visibility:auto; contain-intrinsic-size:100px; }
.item img { width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity 0.3s ease; display:block; decoding:async; }
.item img.loaded { opacity:1; }
.item.selected { border-color:var(--primary); }
.item.selected::before { content:'âœ“'; position:absolute; top:4px; right:4px; background:var(--primary); color:#fff; width:18px; height:18px; border-radius:50%; font-size:11px; display:flex; align-items:center; justify-content:center; z-index:3; box-shadow:0 2px 4px rgba(0,0,0,0.2); }
.dim-label { position:absolute; bottom:4px; right:4px; background:rgba(255,255,255,0.95); color:var(--text-muted); font-size:9px; font-weight:600; padding:2px 6px; border-radius:4px; z-index:3; pointer-events:none; box-shadow:0 1px 3px rgba(0,0,0,0.15); border:1px solid rgba(0,0,0,0.08); }
footer { background:var(--bg-color); border-top:1px solid var(--border); padding:8px 12px; display:flex; flex-direction:column; gap:8px; z-index:10; }
#global-progress { height:4px; background:var(--primary); width:0%; display:none; border-radius:2px; }
#global-progress.active { display:block; }
#status-bar { display:flex; justify-content:space-between; align-items:center; font-size:12px; gap:8px; }
#tracker-pill { background:#e0e7ff; color:var(--primary); padding:2px 8px; border-radius:12px; font-weight:600; font-size:11px; }
#status { color:var(--text-muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; flex:1; }
.btn-icon { background:transparent; border:none; padding:4px; cursor:pointer; color:var(--text-muted); border-radius:4px; display:flex; align-items:center; justify-content:center; width:24px; height:24px; }
.btn-icon:hover { background:var(--bg-secondary); color:#ef4444; }
.btn-icon svg { stroke-width:1.8; }
#actions { display:flex; gap:6px; }
.btn { padding:5px 10px; border-radius:6px; font-size:11px; font-weight:500; cursor:pointer; border:1px solid transparent; display:inline-flex; align-items:center; justify-content:center; white-space:nowrap; flex:1; }
.btn:disabled { opacity:0.6; cursor:not-allowed; }
.btn.primary { background:var(--primary); color:#fff; }
.btn.primary:hover:not(:disabled) { background:var(--primary-hover); }
.btn.secondary { background:#fff; border-color:var(--border); color:var(--text-main); }
.btn.secondary:hover:not(:disabled) { background:var(--bg-secondary); border-color:#d1d5db; }
.btn.secondary.network-active { background:var(--network-active); border-color:var(--network-active); color:#fff; }
.btn.secondary.network-active:hover:not(:disabled) { background:var(--network-active-hover); border-color:var(--network-active-hover); }
.btn.secondary.blob-active { background:var(--blob-active); border-color:var(--blob-active); color:#fff; }
.btn.secondary.blob-active:hover:not(:disabled) { background:var(--blob-active-hover); border-color:var(--blob-active-hover); }
html.android body { width:100vw; height:100vh; }
html.android #grid { grid-template-columns:repeat(2,1fr); }
